##Внимание! Обновите ссылку на код
###В связи с нагрузками скрипт переехал на CDN jsdelivr
###Спасибо за работу [jimaek](https://github.com/jimaek)



Примеры работы с разными настройками:   
[Дефолтные настройки, установлено название сайта](http://showalert.org)  
[С отключенными подробностями и кнопкой "продолжить"](http://showalert.org/macro.html)  
[С собственным текстом обращения](http://showalert.org/custom.html)  
[С картинкой на бэкграунде](http://showalert.org/bgimage.html)

Для добавления страницы блокировки, просто встатьте данный код в любое место на всех страницах вашего сайта:

```html
<script src="//cdn.jsdelivr.net/jslock/lock.min.js" charset="UTF-8"></script>
```
  
  
Bookmarklet для тестирования, чтобы посмотреть как будет выглядеть страница на вашем сайте.  
Создайте в браузере новую закладку и вместо адреса сайта, вставьте этот код. Потом зайдите на свой сайт и нажмите на эту закладку. Код будет однократно запущен. В случае, если вы обнаружили проблему с отображением - напишите issue или отправьте письмо на block.runet@gmail.com:
```js
javascript:(function(){document.body.appendChild(document.createElement('script')).src='//cdn.jsdelivr.net/jslock/lock.js';})();
````
  

Вы можете настроить страницу блокировки по своему усмотрению, добавив перед включением тега кода опции.  
Например так:
```html
<script>
  window.LOCKR_SETTINGS = {
    // Меняем время блокировки
    time: 15, 
    // Название сайта в заголовке
    siteName: 'Хабрахрабр'
  };
</script>
<script src="//cdn.jsdelivr.net/jslock/lock.min.js"></script>
```
  

Список предусмотренных опций:
```html
<script>
  window.LOCKR_SETTINGS = {
    // время блокировки
    time: 5, 
    // Показывать скрипт каждый раз не смотря ни на что
    showEverytime: false,
    // Не показывать кнопку продолжить :(
    thereIsNoFuture: false,
    // Название сайта в заголовке
    siteName: 'Хабрахрабр',
    // Ссылка на сайт в заголовке
    siteURL: 'http://habrahrabr.ru',
    // Адрес петиции
    voteURL: 'http://roi.ru/{адрес петиции}',
	// Для решения проблемы мёртвых ссылок из соцсетей при снятии скрипта, теперь
    // по умолчанию для шаринга установлен showalert.org. 
    // Вы можете легко вернуть всё назад, усстановив true. 
    // В таком случае пользователь будет публиковать ссылку на ваш сайт
    // Но, пожалуйста, если вы это делаете, не убирайте скрипт раньше времени.
    shareLocalURL: false,
    // Адрес, который публикует пользователь, если отключен shareLocalURL  
    // Якорь #block заставляет показать страницу блокировки в любом случае
    shareURL: 'http://showalert.org/#block',  
    // Ссылка на изображение, которое публикует пользователь в соцсетях
    shareImg: '//cdn.jsdelivr.net/jslock/images/lock.png',
    // Заголовок поста, который публикует пользователь в соцсетях
    shareTitle: 'Интернет-свобода под угрозой! Подпишите официальную петицию!',
    // Текст, который публикует пользователь (до 140 символов)
  	shareText: 'С 1 августа вступает в силу #ЗаконПротивИнтернета. У нас есть возможность остановить его. Важен каждый голос!',
    // Свой собственный текст обращения. Адаптируйте его под свою аудиторию.
    customMessage: '',
    // Показывать текст обращения
    showMessage: true,
    // Показывать инструкцию по регистрации
    showManual: true,
    
    // Дата, после которой скрипт не запустится (кроме якоря #block)
    deadline: +new Date("Thu Aug 01 2013 16:00:00 GMT+0400 (MSK)"),
    // Показывать блок только пользователям с русской локализацией системы/браузера (не рекомендуется)
    onlyRusLang: false,
	// Идентификатор глобального счётчика Яндекс.Метрики
	// Если не хотите делиться статистикой, установите в false
	globalCounterId: 21749860,
	// Настройки личного счётчика Яндекс.Метрики
	// Установите id, если хотите получать статистику по своему сайту.
	localCounter: {
		id: 0,
		trackLinks:true,
		accurateTrackBounce:true
	},
    // Откуда берутся слайды
    slidePath: "//cdn.jsdelivr.net/jslock/slides/"
  };
</script>
```
  

Для настройки внешнего вида, можете добавить CSS выражения.
Например так:
```html
<script src="//cdn.jsdelivr.net/jslock/lock.min.js"></script>
<style type="text/css">
	.lkr-fill {
		background: #111111 url(//cdn.jsdelivr.net/jslock/images/bg.png) repeat-x;
	}
</style>
```
  
  
>Когда они пришли за коммунистами, я молчал — я не был коммунистом.  
Когда они пришли за социал-демократами, я молчал — я не был социал-демократом.  
Когда они пришли за профсоюзными активистами, я молчал — я не был членом профсоюза.  
Когда они пришли за мной — уже некому было заступиться за меня.  
[Мартин Нимёллер](http://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%B3%D0%B4%D0%B0_%D0%BE%D0%BD%D0%B8_%D0%BF%D1%80%D0%B8%D1%88%D0%BB%D0%B8%E2%80%A6)
  
  
  
  
Ссылки по теме:  
[Текст Закона № 187-ФЗ](http://base.consultant.ru/cons/cgi/online.cgi?req=doc;base=LAW;n=148497)  
[JS скрипт для протестной блокировки сайта. C таймером и лайками.](http://habrahabr.ru/post/185174/)  
[100.000 подписей собрано (прим. на onlinepetition.ru), что дальше? Российская Общественная Инициатива!](http://habrahabr.ru/post/185554/)  
[Проект РосКомСвобода](http://rublacklist.net/)  
[Ассоциация пользователей интернета](http://freerunet.ru/)  
